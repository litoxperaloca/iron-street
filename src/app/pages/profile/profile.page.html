<ion-header [translucent]="false">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ 'PROFILE' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="profile-container">
  <ion-card class="profile-card">
    <!--<ion-item *ngIf="user">
      <ion-avatar *ngIf="!user.photoURL" slot="start">
        <img alt="Generic Avatar" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
      </ion-avatar>
      <ion-avatar *ngIf="user.providerData['photoURL']" slot="start">
        <img alt="User Photo" [src]="user.providerData['photoURL']" />
      </ion-avatar>
      <ion-label *ngIf="user.providerData['displayName']">{{user.providerData['displayName']}}</ion-label>
    </ion-item>-->

    <ion-segment [(ngModel)]="profileSegment" color="primary">

      <ion-segment-button value="personal-info">
        <ion-label>Personal Info</ion-label>
      </ion-segment-button>
      <ion-segment-button value="monthly-stats">
        <ion-label>Monthly Stats</ion-label>
      </ion-segment-button>
    </ion-segment>

    <ion-card-content class="profile-content">
      <!-- Personal Info Segment -->
       <ion-item>
        <ion-label>
          Por favor, actualiza tu datos:
       </ion-label>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-label position="floating">Nombres</ion-label>
        <ion-input type="text" [(ngModel)]="userInfo.nombres"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-label position="floating">Apellidos</ion-label>
        <ion-input type="text" [(ngModel)]="userInfo.apellidos"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        <ion-label position="floating">Fecha de Nacimiento</ion-label>
        <ion-input type="date" [(ngModel)]="userInfo.fechaNacimiento"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="flag-outline" slot="start"></ion-icon>
        <ion-label position="floating">Nacionalidad</ion-label>
        <ion-input type="text" [(ngModel)]="userInfo.nacionalidad"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="card-outline" slot="start"></ion-icon>
        <ion-label position="floating">Número de Licencia de Conducir</ion-label>
        <ion-input type="text" [(ngModel)]="userInfo.numeroLicenciaConducir"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="calendar-outline" slot="start"></ion-icon>
        <ion-label position="floating">Fecha de Expiración de la Licencia</ion-label>
        <ion-input type="date" [(ngModel)]="userInfo.fechaExpiracionLicencia"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'personal-info'">
        <ion-icon name="flag-outline" slot="start"></ion-icon>
        <ion-label position="floating">País de Emisión de la Licencia</ion-label>
        <ion-input type="text" [(ngModel)]="userInfo.paisEmisionLicencia"></ion-input>
      </ion-item>
            <ion-item *ngIf="profileSegment === 'personal-info'">

      <ion-button expand="full" color="primary" (click)="updateUserInfo()">
        Actualizar Información
      </ion-button>
            </ion-item>
      <!-- Add more fields as needed -->


      <!-- Monthly Stats Segment -->
      <ion-item *ngIf="profileSegment === 'monthly-stats'">
        <ion-icon name="speedometer-outline" slot="start"></ion-icon>
        <ion-label position="floating">Total Kilometers</ion-label>
        <ion-input type="number" [(ngModel)]="monthlyStats.totalKilometers"></ion-input>
      </ion-item>
      <ion-item *ngIf="profileSegment === 'monthly-stats'">
        <ion-icon name="warning-outline" slot="start"></ion-icon>
        <ion-label position="floating">Speeding Violations</ion-label>
        <ion-input type="number" [(ngModel)]="monthlyStats.speedingViolations"></ion-input>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-button expand="full" color="danger" (click)="logout()">
    <ion-icon name="log-out-outline" slot="start"></ion-icon>
    Logout
  </ion-button>
</ion-content>
